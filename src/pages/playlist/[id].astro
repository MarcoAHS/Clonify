---
import SideMenuCard from "../../components/SideMenuCard.astro";
import Layout from "../../layouts/Layout.astro"
import { allPlaylists, playlists, songs } from "../../lib/data";

const {id} = Astro.params

const playlist = allPlaylists.find(playlist => playlist.id === id)
const thisplaylistsongs = songs.filter(song => song.albumId === parseInt(playlist?.id))
const artistString = playlist?.artists.join(', ')
---
<Layout title="Clonify">
	<div
    class="relative h-full p-4 flex flex-col bg-zinc-900 overflow-x-hidden"
    id="playlist-container"
    transition:name=`playlist ${playlist?.id} box`>
    <header class="flex flex-row">
        <picture class="aspect-square w-52 h-52" 
        transition:name=`playlist ${playlist?.id} image`>
            <img src={playlist?.cover} alt={`Playlist of ${playlist?.title}`}>
        </picture>
        <div class="flex flex-col gap-5">
            <h4 class="font-bold h-6 w-auto text-5xl ml-5 mt-5" transition:name=`playlist ${playlist?.id} title`>{playlist?.title}</h4>
            <p class="h4 w-auto text-xl mt-4 ml-7" transition:name=`playlist ${playlist?.id} artist`>{artistString}</p>
        </div>
    </header>
        <div class="relative z-10 px-6 flex gap-4 flex-wrap">
            {}
        </div>
        <div class="absolute inset-0 bg-gradient-to-t from-zinc-900 via-zinc-900/50"></div>
    </div>
</Layout>
